<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DriveQuest Leadership Board</title>
    <link rel="stylesheet" href="./main.css">
    <!-- <script src="app.js"></script> -->
</head>
<body>
    <header>
        <nav>
            <div id="logo-container" class="logo">
                <a href="./home.html"><img src="./assets/Logo_02.png" alt="logo"></a>
            </div>
            <div id="right-links">
                <a id="rules" href="rules.html">Rules</a>
                <div class="leadership-crown">
                    <img src="./assets/crown.png" alt="Black Crown">
                    <a id="leadership" href="leadership.html">Leadership Board</a>
                </div>
            </div>
        </nav>
    </header>
    <main>
        <img class="banner" src="./assets/leaderboard-asset.png" alt="banner">
        <div class="board-container">
            <h1 class="leader-heading">LEADERBOARD</h1>
            <ul class="leaders-list" id="leadersList">
                <!-- Dynamic content will be loaded here -->
            </ul>
            <div> 
                <a href="./index.html"><button class="playagain-btn">Play Again</button></a>
                <a href="./home.html"><button class="quit-btn">Quit</button></a>
            </div>
        </div>
    </main>
    <footer>
        <div id="footer-rect">
            <div id="volume-btn" onclick="toggleAudio()">
                <img src="./assets/volume.png" onclick="playAudio('./assets/Sakura-Girl.mp3')" alt="volume button" id="volume-icon">
            </div>
        </div>
    </footer>
    <script>
        window.onload = async () => {
    try {
        const response = await fetch('http://localhost:3000/top-players');
        if (!response.ok) {
            throw new Error('Failed to fetch top players');
        }
        const players = await response.json();
        const listElement = document.getElementById('leadersList');
        players.forEach(player => {
            const li = document.createElement('li');
            li.className = 'leader';
            li.innerHTML = `<img class="star-player" src="./assets/leader.svg" alt="star player">${player.playerName} `;
            listElement.appendChild(li);
        });
    } catch (error) {
        console.error('Error loading top players:', error);
    }
};
    </script>
    <!-- Credits omitted for brevity -->
</body>
</html>
